## pgmXT

**pgm editor for SLAM**

åŸºäºè¿™ä¸ªè„šæ‰‹æ¶æ­å»ºçš„: npm create @quick-start/electron

æŠ€æœ¯æ ˆ: vite + electron + react + tailwindcss + typescript


### Install

```bash
$ pnpm install
```

### Development

```bash
$ pnpm run dev
```

### Build

```bash
# For windows
$ npm run build:win

# For macOS
$ npm run build:mac

# For Linux
$ npm run build:linux
```

## æ–‡æ¡£æ”¶é›†
- build based on https://electron-vite.github.io/
- å·²ç»é›†æˆäº† tailwindcss å¯ç›´æ¥ä½¿ç”¨
- canvas åº“ https://github.com/konvajs/konva æ”¯æŒreact ,æ”¯æŒå‡½æ•°ç»„ä»¶,å®˜æ–¹ demo ç»™çš„è¿˜æ˜¯ class
å¯¹åº”çš„ react åº“ä¸ºï¼š https://github.com/konvajs/react-konva
å¯¹åº”çš„æ–‡æ¡£è¿˜å¯ä»¥ï¼Œapi è¯´æ˜çš„æ¯”è¾ƒæ¸…æ¥šï¼Œéƒ½æœ‰ demo,ä¸è¿‡åº“æ›´æ–°ä¸æ˜¯å¤ªé¢‘ç¹äº†,staræ•°é‡ 10k

- canvas åº“  https://github.com/fabricjs/fabric.js æ”¯æŒ react
è¿™ä¸ªåº“çš„ demo è¿˜æ¯”è¾ƒå¤šï¼Œæ”¯æŒ react è¿™ä¸ªåº“æ”¯æŒ react staræ•° 26k
æœ€ç»ˆé€‰æ‹©ä½¿ç”¨ fabric è¿™ä¸ªåº“ï¼Œé¢å‘å¯¹è±¡å†™æ³•ï¼Œæ„Ÿè§‰ä¸é”™ï¼ŒåŠŸèƒ½ä¹Ÿå¼ºå¤§ï¼Œè¿˜æ”¯æŒ svg åŠŸèƒ½

ä¸è¿‡åœ¨è§£æ pgm çš„æ—¶å€™ Error loading http://localhost:3008/upload/files-1702951513030.pgm

æœ€åå‘ç°è¿™ä¸¤ä¸ªåº“éƒ½æ²¡æœ‰canvas ç›¸åº”çš„ createImageData å’Œ getImageData, putImageData
æ‰€ä»¥è¿™é‡Œè¿˜æ˜¯è¦è·å– canvas çš„ context å¯¹è±¡ï¼Œå†è°ƒç”¨åŸç”Ÿçš„ canvas å®Œæˆè§£æ pgmåœ°å›¾å¹¶åŠ è½½åˆ° canvas çš„ä»»åŠ¡

ç°åœ¨åç«¯çš„ http://localhost:3008/upload/files-1702951513030.pgm å·²ç»å¯ä»¥åœ¨æµè§ˆå™¨ get è®¿é—®äº†
ç°åœ¨çœ‹çœ‹æ€ä¹ˆè®© canvas åŠ è½½è¿œç¨‹çš„ pgm å›¾ç‰‡ï¼Œfabricçš„ fabric.Image.fromURL æ–¹æ³•ä¸è¡Œ,ä¸æ”¯æŒ pgm æ ¼å¼


ç°åœ¨å®ç°ä¸€ä¸ªè¯·æ±‚æ–‡ä»¶å¹¶è¿”å›æ•°æ®æµ arrayBuffer çš„æ¥å£ï¼Œè¯·æ±‚æ¥å£è·å– pgm çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œç°åœ¨æƒ³é€šè¿‡ canvas çš„åŸç”Ÿapi ctx.putImageData()æ–¹æ³•ä½¿ç”¨ï¼Œå‘ç°ä¸è¡Œ

åŸç”Ÿ api https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/createImageData

äº†è§£äº†ä¸‹ ctx.putImageData() è¿™é‡Œå¯ä»¥ä¼ å…¥ ctx.getImageData()çš„æ•°æ®ï¼ˆäºŒè¿›åˆ¶çš„åƒç´ ï¼‰
ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ª createImageData ï¼Œé»˜è®¤è¿”å›æ¯ä¸ªæ ¼å¼ä¸ºç©ºçš„æ•°æ®ï¼Œç„¶åå†å¯¹è¿™ä¸ªæ•°æ®è¿›è¡Œéå†å¤„ç†æŠŠæ¯ä¸ªæ ¼å¼å¡«å……
æ¯ä¸ªæ ¼å­æ˜¯ä¸€ä¸ª array[4],åˆ†åˆ«è¡¨ç¤º r g b a = 255ï¼Œéƒ½å†™ä¸Šæ•°æ®ä¹‹å å°±å¯ä»¥ç”¨putImageData æ˜¾ç¤ºå‡ºæ¥äº†
æœ‰ç‚¹åƒæŠŠè¿™äº›æ•°æ®è½¬æ¢æˆ png ä¹‹å‰ éœ€è¦å¤„ç†çš„ä¸€æ ·
------------------------------------------------------------

å­¦ä¹ åŸç”Ÿ canvas çš„ç›¸å…³ apiï¼Œç†è§£æœºåˆ¶

https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes

canvas åˆ›å»ºï¼Œç”»åŸºæœ¬å›¾ç‰‡ï¼ŒçŸ©å½¢å’Œ path 

çŸ©å½¢ç›¸å…³

1. çŸ©å½¢  ctx.fillRect(25, 25, 100, 100) å¡«å……
2. çŸ©å½¢ ctx.clearRect(45, 45, 60, 60) æ¸…é™¤ï¼ˆğŸ†‘ä¸ºé€æ˜ï¼‰
3. çŸ©å½¢ ctx.strokeRect(50,50,50,50) æè¾¹


path ç›¸å…³

Pathsï¼š

beginPath()
moveTo()
lineTo()
closePath()

bezierCurveTo()
quadraticCurveTo()
arc()
arcTo()
ellipse()
rect()
roundRect()


Drawing paths:

fill()  å¡«å……
stroke() æè¾¹
clip()è£å‰ª

Transformations:
rotate()
scale()
translate()
transform()
setTransform()
getTransform()

è®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œåæ ‡åŸç‚¹åœ¨å·¦ä¸Šæ–¹ï¼Œè€Œæ•°å­¦ä¸­çš„ç¬›å¡å°”åæ ‡åˆ™æ˜¯åœ¨å·¦ä¸‹æ–¹ï¼Œ
åœ¨ canvas é€šè¿‡ ctx.translate(0, canvas.height); ctx.scale(1,-1)å¯ä»¥æŠŠå›¾å½¢å­¦çš„åæ ‡è½¬æ¢ä¸ºç¬›å¡å°”åæ ‡

---------------------------------------------------------------------


- å‚è€ƒåŠŸèƒ½ https://www.bilibili.com/video/BV17d4y157XJ/?spm_id_from=pageDriver&vd_source=e08390cd90daa23eed88f4e74bd8761e

-  å‘ç°åšä¸»ä½¿ç”¨çš„æ˜¯ create.js è¿™ä¸ªå·²ç»å¾ˆå¤šå¹´äº†ï¼Œä¸æ¨èä½¿ç”¨
-  https://github.com/Flipboard/react-canvas è¿™ä¸ªåº“ä¹Ÿæ˜¯å¤ªä¹…äº†ä¸å¥½ç”¨





- å‚è€ƒ https://space.bilibili.com/688437974 ç³»åˆ—
- æ§åˆ¶æœºå™¨äººè¿åŠ¨  https://github.com/kahowang/lab-3dslam-plotform/tree/main/ROS%20WEB%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B8%8A%E4%BD%8D%E6%9C%BA/lib_web
- react å¸¸ç”¨åº“ï¼Œtools https://zhuanlan.zhihu.com/p/546697951?utm_id=0
- awesome-electron: https://github.com/sindresorhus/awesome-electron
- antd-style ä½¿ç”¨ antd ä¸»é¢˜é…ç½® https://zhuanlan.zhihu.com/p/636143897
- electron ä¸“ç”¨ç»„ä»¶åº“ https://photonkit.com/getting-started/ï¼Œä¸è¿‡åŠŸèƒ½æ¯”è¾ƒå°‘
- pgm è½¬ png  https://convertio.co/zh/download/19d5e941f94ffa068a98e0bdaf4b7e71445622/
- é€šè¿‡è¿™é‡Œäº†è§£ä¸‹ slam å»ºå›¾ https://www.lmlphp.com/user/10684/article/item/450899

## todo

1. åˆ›å»ºwin æ—¶nodeIntegration: true, contextIsolation: false, è¿™åœ¨ç”Ÿäº§ç¯å¢ƒæ˜¯ä¸å®‰å…¨çš„ï¼Œå€ŸåŠ© preload.js å®ç°å®‰å…¨çš„ main è¿›ç¨‹å’Œ render è¿›ç¨‹é€šä¿¡, æ­¤å¤„ä¸€ç›´é…ç½®å¤±è´¥ï¼Œå…ˆç›´æ¥è®© main å’Œ renderè¿›ç¨‹é€šä¿¡å§ done âœ…
2. æ”¯æŒ tailwindcss done,ä¸»è¦é¡µé¢éƒ½ä½¿ç”¨ tailwindcss å®Œæˆï¼Œéƒ¨åˆ†é¡µé¢å¼€å§‹æ—¶å€™æ²¡æƒ³åˆ°ç”¨ tailwindcssï¼Œç”¨äº† css/less å®ç°çš„ âœ…
3. è°ƒç ”äº†ä¸€ä¸‹ï¼Œè¿™ä¸ª app åæœŸä¼šåšçš„å¼‚å¸¸å¤æ‚ï¼Œåªä½¿ç”¨ tailwindcss ä¸å¤ªèƒ½å®Œæˆä»»åŠ¡ï¼Œç°å¼•å…¥ antd ç»„ä»¶åº“ npm install antd --save âœ…
4. å¼•å…¥ react-router-dom,æŠŠå‡ ä¸ª menu å¯¹åº”çš„éƒ½å¤„ç†ä¸€ä¸‹ï¼Œç‚¹å‡»åè·³åˆ°æ­£å¸¸çš„è·¯ç”±ä¸Šå»,ä½¿ç”¨è·¯ç”±çš„æ—¶å€™å°±è¦è€ƒè™‘æƒé™äº†ï¼Œé¡µé¢çº§æƒé™å’ŒæŒ‰é’®çº§æƒé™ï¼Œè¿™å°±è¦è€ƒè™‘è¦ä¸è¦åšæƒé™ç®¡ç†äº†ï¼Œé‚£æ˜¯ä¸æ˜¯è¦åšåå°ï¼Œåå°åŒ…æ‹¬ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼Œåœ¨åœ°å›¾ä¸Šæ·»åŠ çš„ç‚¹ä½ä¿¡æ¯è¿™äº›ï¼Œå¯ä»¥å­˜å‚¨åœ¨ sqlite3 æ•°æ®åº“ä¸­åŠ è½½,å¯èƒ½å°±è¦ä¸Šåç«¯æœåŠ¡äº†ï¼Œè¿™æ„Ÿè§‰æ˜¯åæœŸçš„äº‹æƒ…ï¼Œç°åœ¨ç›´æ¥åšæŒä¹…åŒ–åˆ°å®¢æˆ·ç«¯ï¼Œå³å½“å‰ç”¨æˆ·åœ¨å½“å‰æœºå™¨ä¸Šåšç¼–è¾‘ä»»åŠ¡ï¼Œå³ä½¿ç”¨ nodejs æ“ä½œ sqlite3æ•°æ®åº“æ¥å­˜å‚¨ç‚¹ä½ä¿¡æ¯ã€‚æš‚æ—¶ä¸æ”¯æŒäº‘ç«¯åŒæ­¥ã€‚å› æ­¤ç°åœ¨ä¹Ÿå°±ä¸è€ƒè™‘æƒé™ä¹‹ç±»çš„äº‹æƒ…äº†ã€‚åè¾¹å¯ä»¥è€ƒè™‘ä½¿ç”¨ nodejs/go è¯­è¨€æ¥å†™åç«¯è¿™ä¸€å—ä»è€Œæ”¯æŒäº‘ç«¯åŒæ­¥ã€‚ âœ…
5. ç¾åŒ–ä¸€äº›å‚ç›´æ»šåŠ¨æ¡ âœ…
6. æš‚æ—¶è¿˜æœªæƒ³åˆ°ä½¿ç”¨context è¿˜æ˜¯ redux æ¥å¤„ç†å…¨å±€çŠ¶æ€ï¼ˆå…¨å±€çŠ¶æ€ç®¡ç†åº“ï¼‰ï¼ŒåæœŸæ ¹æ®æƒ…å†µæ¥å®šï¼Œç”±äºé¡¹ç›®ä¸å¤§ï¼Œæ„Ÿè§‰ç”¨ context è¶³å¤Ÿäº† âœ…
7. ç³»ç»Ÿè®¾ç½®è¿™ä¸€å—ï¼Œè¿™ä¸€æœŸè€ƒè™‘åšä¸»é¢˜åˆ‡æ¢ï¼ˆLight/Darkï¼‰æ¨¡å¼ï¼Œä¸»é¢˜è‡ªå®šä¹‰é…ç½®ï¼ˆæ¯”å¦‚ä¸»è‰²è°ƒï¼ŒæŒ‰é’®æ ·å¼ç­‰ï¼‰å¹¶ä¸”è€ƒè™‘å¤šè¯­è¨€æ”¯æŒä½¿ç”¨ context å®ç°
8. é…ç½®ä½¿ç”¨ lessï¼Œç°åœ¨æ˜¯ css ä¸å¤ªå¥½ç”¨ âœ… ç›´æ¥å®‰è£…åœ¨ vite.config.ts ä¸­é…ç½®ä¸€ä¸‹å³å¯ï¼Œä½†å·²ç»ç”¨äº† tailwindcss æ²¡å¿…è¦å†ä½¿ç”¨ less/css è¿™äº›äº†
9. é¡¹ç›®å±•ç¤ºçš„æ—¶å€™ä½¿ç”¨flex å¸ƒå±€ï¼Œä¸€å¼€å§‹ä½¿ç”¨ row,col å®ç°è‡ªé€‚åº”æ•ˆæœä½†ä¸æ˜¯æƒ³è¦çš„æ•ˆæœï¼Œæƒ³è¦ç½‘æ˜“äº‘éŸ³ä¹é‚£ç§ï¼Œæ¯ä¸ª item ä¹‹é—´çš„è·ç¦»å›ºå®šï¼Œå½“çˆ¶å®¹å™¨å˜å¤§æ—¶ï¼Œitem å°ºå¯¸è·Ÿç€å˜å¤§ï¼Œä½†æœ‰ä¸€ä¸ªæœ€å¤§å€¼ï¼Œç¼©å°çš„æ—¶å€™ä¹ŸåŒæ—¶æœ‰ä¸€ä¸ªæœ€å°å€¼ï¼Œantd æä¾›çš„ä¸€ä¸ª flex ç»„ä»¶åº”è¯¥å¯ä»¥å®Œæˆæ­¤åŠŸèƒ½  âœ…
10. eslint é…ç½®æ€»æ˜¯æç¤ºå‡½æ•°è¦è¿”å›ç±»å‹ï¼Œè¿™é‡Œç»™ç¦ç”¨äº†ï¼Œè§.eslintrc.cjsä¸­æ–°æ·»åŠ çš„é…ç½® rules âœ…
11. react ç»„ä»¶æ‡’åŠ è½½ï¼Œç¼“å­˜ï¼ˆè¿™é‡Œæ˜¯react-router çš„é»˜è®¤è¡Œä¸ºï¼Œå½“åˆ‡æ¢è·¯ç”±æ—¶ä¹‹å‰çš„ç»„ä»¶ä¼šå¸è½½ï¼Œå†ç‚¹å›æ¥æ—¶ç»„ä»¶ä¼šé‡æ–°åŠ è½½ï¼‰ï¼ŒåŠä¸ºä½•ç‚¹å‡»ä¸‹æ‹‰æ¡†æ—¶æ¯æ¬¡éƒ½ä¼šæ‰§è¡Œ useEffect(è¿™é‡Œå¹¶æ²¡æœ‰æŒ‡å®šä¾èµ–é¡¹,è¿™æ˜¯åŸºæœ¬æ¦‚å¿µ state å˜åŒ–æ—¶ç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“,æ¯”å¦‚ useState å’Œ useReducer æ“ä½œçš„ state å˜åŒ–æ—¶ç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“)ï¼ŒåŠç¬¬ä¸€æ¬¡åŠ è½½é¡µé¢ useEffect æ‰“å°ä¸¤æ¬¡çš„é—®é¢˜(å¼€å‘ç¯å¢ƒä¸ºäº†è°ƒè¯•ç”¨ï¼Œç”Ÿäº§ç¯å¢ƒä¸ä¼š) âœ…
12. æ–°å»ºå·¥ç¨‹åŠå¯¹åœ°å›¾è¿›è¡Œç¼–è¾‘åæ–°çš„åœ°å›¾ä¿å­˜åœ¨å“ªé‡Œï¼Œæçš„ç‚¹ï¼Œç”»çš„çº¿è¿™äº› json æ•°æ®ä¿å­˜åœ¨å“ªé‡Œï¼Œéœ€è¦å¼•å…¥æœåŠ¡ç«¯ï¼Œé‚£å°±ä½¿ç”¨ Node.js å§ï¼Œä½¿ç”¨express.js æ¡†æ¶ç®€åŒ–æ“ä½œ,æ•°æ®åº“ä¸ºäº†æ–¹ä¾¿å°±ä½¿ç”¨ sqlite3æ–‡ä»¶æ•°æ®åº“ã€‚æ­å»ºèµ·æ¥åŸºæœ¬æ¡†æ¶ âœ…
13. ç°åœ¨åç«¯çš„é€»è¾‘æ˜¯ä¸Šä¼ æœ¬åœ°çš„ pmg å›¾ç‰‡åˆ°è¿œç¨‹ï¼Œä¿å­˜åˆ°åç«¯æŸä¸ªæ–‡ä»¶å¤¹å†…ï¼ŒåŒæ—¶æŠŠä¸Šä¼ çš„ pgm å›¾ç‰‡çš„ url å’Œå›¾ç‰‡çš„ç›¸å…³ä¿¡æ¯æ¯”å¦‚å®½åº¦å’Œé«˜åº¦ï¼Œä¸Šæ¬¡ä¿®æ”¹æ—¶é—´è®°å½•åˆ°æ•°æ®åº“ï¼ŒåŒæ—¶ä¿å­˜å·¥ç¨‹ååˆ°æ•°æ®åº“ ,å…¶å®ƒä¿¡æ¯å·²ç»å­˜è¿›å»äº†ï¼Œè¿˜æœ‰ä¸ªå®½å’Œåº¦çš„ä¿¡æ¯æ²¡æœ‰å­˜è¿›å».
14. æ“ä½œåŒºé€‰æ‹©æœ‰ä¸¤ç§å½¢å¼ï¼Œä¸€æ˜¯ä½¿ç”¨ floatbutton,ä¸€ç§æ˜¯ä½¿ç”¨ radio çš„å¹³é“ºå¡«å……æ ·å¼
15. ç°åœ¨è¦æŠŠ canvas ç›¸å…³ä¸œè¥¿è°ƒç ”æå‡ºæ¥ï¼Œè‡³äºæ€ä¹ˆæ”¾éƒ½æ˜¯ä¸€äº›ç»†èŠ‚çš„ä¸œè¥¿

### issue
1. æ— frame,ä½†æœ‰çª—å£æ§åˆ¶å™¨ mac å« traffic lights see: https://www.electronjs.org/zh/docs/latest/api/frameless-window#%E5%88%9B%E5%BB%BA%E6%97%A0%E8%BE%B9%E6%A1%86%E7%AA%97%E5%8F%A3
2. mac/ubuntu/windowsä¸‹çš„çª—å£æ€ä¹ˆå¤„ç†, ä½¿ç”¨ autoHideMenuBar å¼€å¯ï¼Œframe: true, ubuntu ä¸‹è¡¨ç°æ˜¯æŒ‰ä½ alt é”®ï¼Œä¼šæ˜¾ç¤ºèœå•; windows ä¸‹è¡¨ç° åŒ ubuntu;mac ä¸‹æ²¡æœ‰è¡¨ç° ,è¿™æ˜¯ mac å¼ºåˆ¶è§„å®šçš„;
3. mac ä¸‹ menu çš„æ ‡é¢˜ä¸€ç›´æ˜¯ electron , è®¾ç½®app.setName()å’Œä¿®æ”¹ Index.html çš„ title å±æ€§æ²¡ç”¨ï¼Œdevelop æ¨¡å¼ä¸‹æ²¡åŠæ³•ï¼Œç”Ÿäº§ç¯å¢ƒæ—¶å€™å¯ä»¥æŒ‡å®šåç§°, see:  https://github.com/electron/electron/issues/19892
4. ç°åœ¨ä½¿ç”¨æš—é»‘æ¨¡å¼ï¼Œä½¿ç”¨ const {token: { colorBgContainer, colorPrimary }} = theme.useToken() åœ¨åˆ‡æ¢ä¸»é¢˜æ—¶è²Œä¼¼è·å–çš„ token è¿˜æ˜¯ä»¥å‰çš„,ç°åœ¨å‘ç°ä¸€ä¸ªç°è±¡ï¼Œæˆ‘çš„ç†è§£æ˜¯æ­£ç¡®çš„ï¼Œæ›´æ”¹æš—é»‘ä¸»é¢˜åå¯¹åº”çš„ colorBgContainer,colorPrimary ç¡®å®ä¼šå˜ï¼Œåªæ˜¯åœ¨å½“å‰çš„ Layout ç»„ä»¶ä¸­ä¸ä¼šå˜ï¼Œè€Œå¼•å…¥ ä¸€ä¸ªå­ç»„ä»¶ä¸­å°±ä¼šå‘ç°å®ƒç¡®å®å·²ç»æ”¹å˜äº†,å®è·µä¸­å‘ç° Header ä¼šé»˜è®¤æœ‰ä¸ªé¢œè‰²ï¼ˆæ·±è“è‰²è·Ÿ menu éƒ¨åˆ†ä¸€æ ·),è€Œ Footer éƒ¨åˆ†æ²¡æœ‰é»˜è®¤é¢œè‰²ï¼Œå› æ­¤ä¼šè‡ªåŠ¨è·Ÿéšä¸»é¢˜é¢œè‰²å˜åŒ–ï¼Œå†åˆ†æä¸€ä¸‹ä¸ºä½•åœ¨ Layout å½“å‰ç»„ä»¶ä¸­ï¼ŒLayout ç»„ä»¶æ¸²æŸ“ä¸ºä½•ç›¸å…³ä¸»é¢˜çš„é¢œè‰²ä¸ä¼šå˜åŒ–,è€Œå®ƒçš„å­ä¸»ç»„ä»¶é¢œè‰²ä¼šå˜åŒ–
æ›´å¤š token å€¼å¯è§:  https://ant.design/docs/react/customize-theme-cn
5. ç°åœ¨ä½¿ç”¨ farbic çš„ä¸€ä¸ª eraser çš„åŠŸèƒ½ï¼Œæƒ³ç€ä½¿ç”¨ cdn å¼•å…¥ï¼Œä¸€æ–¹é¢ fabric å¯¹åº”çš„ types æ²¡æœ‰ earser ç›¸å…³çš„ç±»å‹æç¤ºï¼Œç”±äºé¡¹ç›®æ˜¯ tsï¼Œç±»å‹æç¤ºéå¸¸å¤šï¼Œå¦ä¸€æ–¹é¢å¼„äº†åŠå¤©å¥½åƒæ²¡ç”Ÿæ•ˆï¼Œæ”¾å¼ƒï¼Œåˆæƒ³ç€ä½¿ç”¨åŸç”Ÿçš„ canvas çš„api æ¥æ“ä½œ earser çš„åŠŸèƒ½ï¼Œä½†æ˜¯å¼„äº†åŠå¤©ä¸èµ·ä½œç”¨ï¼Œå¹¶ä¸”å’Œ fabric ä¸€èµ·ç”¨ç€éå¸¸éš¾å—ï¼Œä¸å¥½è°ƒè¯•ï¼Œæ‰€ä»¥è¿˜æ˜¯é€‰ç”¨ç¤¾åŒºç‰ˆæœ¬ fabric-with-erasing ,è¿™é‡Œä½¿ç”¨çš„ fabric æ˜¯5.2ç‰ˆæœ¬ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯è°ƒç”¨ fabric.dispose()çš„æ—¶å€™æœ‰ä¸ªé”™è¯¯ï¼Œå…ˆè¿™æ ·å§.
6. canvas çš„å®½å’Œé«˜åˆå§‹åŒ– dom çš„æ—¶å€™å°±è¦æŒ‡å®šï¼Œä¸æŒ‡å®šé»˜è®¤æ˜¯100*100ï¼Œä¸èƒ½å†åŠ¨æ€çš„æ›´æ–°


### undone
1. æŠŠæ©¡çš®æ“¦çš„è½®é˜”æ ‡å‡ºæ¥ï¼Œæ–¹ä¾¿ earser çš„æ—¶å€™è§‚å¯Ÿ
2. ç”»çš„ä¸œè¥¿è¦å’Œå›¾ç‰‡æˆä¸ºä¸€ç»„ï¼Œä»¥ä¾¿äºæ“ä½œ
3. 

### skills get
1. async ä¿®é¥°çš„å‡½æ•°è¿”å›å€¼æ˜¯ promise, ä¸»è¦ç”¨äºå¼‚æ­¥æ“ä½œ, å°è£…ç½‘ç»œè¯·æ±‚ get / post æ—¶è¿”å›çš„å€¼å°±æ˜¯ promise
å¦‚ async get<T = any>(url: string, config?: AxiosRequestConfig): Promise<T> {}
awaitå¯ä»¥æ˜¯ç­‰å¾…ä¸€ä¸ªå¸¸é‡ï¼Œå˜é‡ï¼Œpromiseï¼Œå‡½æ•°ç­‰ï¼Œå› ä¸º await ä¼šé˜»å¡è¿›ç¨‹ï¼Œæ‰€ä»¥å¿…é¡»åœ¨ async å‡½æ•°ä¸­ä½¿ç”¨ await æ‰å¯ä»¥,await ç­‰å¾… promise çš„æƒ…å†µæ¯”è¾ƒå¤šï¼Œåƒå°è£…çš„ get/post è¯·æ±‚å‡½æ•°ï¼Œå°è£…çš„æ—¶å€™åšæˆ promise,è°ƒç”¨çš„æ—¶å€™ await ç­‰å¾…çš„ä¹Ÿæ˜¯ promiseï¼ŒåŒ…æ‹¬ axios è‡ªå·±çš„ get/post å…¶å®è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª promise

//ä»¥å‰å°è£…çš„ axios get è¯·æ±‚æ–¹å¼ä¸€ï¼Œç›´æ¥ä½¿ç”¨æŸ¥è¯¢å­—ç¬¦ä¸² queryString
export async function getPermissionsByMenuId(data: { id: number }) {
  return await request.get<ResponseData<Permission[]> | []>(`/api/getPermissionsByMenuId?${qs.stringify(data)}`);

//axios get è¯·æ±‚æ–¹å¼äºŒï¼Œä½¿ç”¨ params çš„æ–¹å¼ï¼Œurl ä¸Šä¸ä¼šæš´éœ²ä¿¡æ¯
export async function groupDictsByCode(params: { groupCode: string; nodeId: string }): Promise<DictsCode[]> {
  return await request.get("system-dicts/group-dicts-by-code", {
    params,
  });
}  